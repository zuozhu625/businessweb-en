<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能业务：智能销售机器人 + 独立商店</title>
    <meta name="description" content="专注于社交电商智能解决方案：AI机器人自动转化客户，独立商店展示专属品牌，构建完整营销循环">
    <meta name="keywords" content="AI robot, Sales robot, LINE robot, Telegram robot, Intelligent customer service, Independent store, Social e-commerce, Marketing automation">
    <link rel="stylesheet" href="css/style.css">
    <!-- Import Font Awesome (example) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- 添加ffmpeg.js配置 -->
    <script>
        window.FFMPEG_PUBLIC_PATH = '/js/ffmpeg/';
    </script>
</head>
<body>
    <main>
        <section id="hero" class="hero-section" style="background-image: url('img/new-banner.jpg'); background-size: cover; background-position: center;">
            <div class="container" style="background-color: rgba(0, 0, 0, 0.5); padding: 20px; border-radius: 10px;">
                <h1 style="color: #ffffff;">创建您的销售团队和独立商店<br><span style="font-size: 70%;">智能销售机器人 + 个人独立商店</span></h1>
                <div class="feature-list" style="color: #ffffff; text-align: center; margin-top: 20px;">
                    <p>✅ 智能客户转化机器人（自动完成客户转化）</p>
                    <p>✅ 独立品牌展示商店（专属品牌形象展示）</p>
                    <p>✅ 完整营销循环构建（从引流到转化全链路覆盖）</p>
                </div>
            </div>
        </section>

        <section id="about" class="about-section">
            <div class="container">
                <h2>关于我们</h2>
                <div class="about-content">
                    <div class="about-text">
                        <h3>我们是谁</h3>
                        <p>我们是由AI驱动的智能业务解决方案提供商，专注于LINE/Telegram生态系统，为企业构建"智能机器人+独立商店"一体化营销系统，助力社交电商高效增长</p>
                    </div>
                    <div class="core-advantages">
                        <h3>核心优势</h3>
                        <div class="advantage-grid">
                            <div class="advantage-item">
                                <i class="fas fa-brain"></i>
                                <h4>技术团队</h4>
                                <p>10年以上AI算法开发经验</p>
                            </div>
                            <div class="advantage-item">
                                <i class="fas fa-users-cog"></i>
                                <h4>定制化服务</h4>
                                <p>一对一深度需求调研</p>
                            </div>
                            <div class="advantage-item">
                                <i class="fas fa-headset"></i>
                                <h4>全周期支持</h4>
                                <p>从开发到运营的全链路服务</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="products" class="products-section">
            <div class="container">
                <h2>产品</h2>
                <div class="product-grid">
                    <div class="product-item">
                        <i class="fab fa-line product-icon"></i>
                        <h3>1. LINE智能销售机器人</h3>
                        <h4>主要功能</h4>
                        <ul>
                            <li><i class="fas fa-check-circle"></i> 24小时智能客服（NLP精准对话）</li>
                            <li><i class="fas fa-check-circle"></i> 用户画像精准营销（行为数据推荐）</li>
                            <li><i class="fas fa-check-circle"></i> 订单自动处理（一键创建/查询/修改）</li>
                            <li><i class="fas fa-check-circle"></i> 实时数据看板（用户互动/转化效果可视化）</li>
                        </ul>
                        <h4>使用场景</h4>
                        <p>跨境商家LINE私域流量运营 / 日常消费品电商 / 品牌方LINE官方号运营</p>
                    </div>
                    <div class="product-item">
                        <i class="fab fa-telegram-plane product-icon"></i>
                        <h3>2. Telegram全球营销机器人</h3>
                        <h4>核心能力</h4>
                        <ul>
                            <li><i class="fas fa-check-circle"></i> 多语言自动回复（支持50+语言）</li>
                            <li><i class="fas fa-check-circle"></i> 高效群组管理（定时欢迎/公告）</li>
                            <li><i class="fas fa-check-circle"></i> 多媒体营销素材分发（文字/视频/链接）</li>
                            <li><i class="fas fa-check-circle"></i> 跨境订单无缝整合（多货币支付支持）</li>
                        </ul>
                        <h4>目标客户</h4>
                        <p>跨境电商企业 / 跨国品牌全球市场拓展</p>
                    </div>
                    <div class="product-item">
                        <i class="fas fa-store product-icon"></i>
                        <h3>3. 独立产品展示网站</h3>
                        <h4>核心价值</h4>
                        <ul>
                            <li><i class="fas fa-check-circle"></i> 品牌级专业网站设计（PC/手机/平板适配）</li>
                            <li><i class="fas fa-check-circle"></i> 智能SEO优化（关键词布局+搜索引擎友好结构）</li>
                            <li><i class="fas fa-check-circle"></i> 机器人数据打通（咨询转订单一键完成）</li>
                            <li><i class="fas fa-check-circle"></i> 多维度数据分析（访问来源/转化路径清晰呈现）</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="cases" class="cases-section">
            <div class="container">
                <h2>成功案例</h2>
                <div class="case-grid">
                    <div class="case-item">
                        <div class="case-content">
                            <h3>案例1: 美妆电商LINE运营项目</h3>
                            <p><strong>结果:</strong> LINE咨询量提升300%，店内订单量提升200%（1个月内）</p>
                            <p><strong>解决方案:</strong> 智能机器人肤质检测推荐 + 限时活动页面定制</p>
                        </div>
                    </div>
                    <div class="case-item">
                        <div class="case-content">
                            <h3>案例2: 3C跨境电商Telegram获客项目</h3>
                            <p><strong>结果:</strong> 海外客户数量提升150%，复购率提升40%（3个月内）</p>
                            <p><strong>解决方案:</strong> 多语言机器人客服 + 多货币商店系统</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact-section">
            <div class="container">
                <h2>联系我们</h2>
                <div class="contact-grid">
                    <div class="contact-form-container">
                        <form id="contact-form" name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field">
                            <!-- 蜜罐字段用于防止垃圾邮件 -->
                            <p style="display: none;">
                                <label>不要填写这个字段：<input name="bot-field" /></label>
                            </p>
                            
                            <div class="form-group">
                                <label for="name">您的姓名:</label>
                                <input type="text" id="name" name="name" placeholder="请输入您的姓名或公司名称" required>
                            </div>
                            <div class="form-group">
                                <label for="contact-method">联系方式（电话/邮箱/LINE/Telegram）:</label>
                                <input type="text" id="contact-method" name="contact-method" placeholder="请输入您的联系方式" required>
                            </div>
                            <div class="form-group">
                                <label for="message">您的需求:</label>
                                <textarea id="message" name="message" rows="5" placeholder="请简要描述您的需求或问题" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> 发送咨询</button>
                        </form>
                    </div>
                    <div class="contact-details">
                        <p><i class="fas fa-headset"></i> <strong>24小时在线咨询</strong></p>
                        <p><i class="fas fa-phone-alt"></i> 电话: <a href="tel:0648191176">0648191176</a></p>
                        <p><i class="fas fa-envelope"></i> 邮箱: <a href="mailto:qikaka625@gmail.com">qikaka625@gmail.com</a></p>
                        <p><i class="fas fa-comment-dots"></i> <strong>在线客服:</strong> 点击右侧悬浮窗口立即沟通</p>
                        <hr>
                        <p><i class="fas fa-book-open"></i> <strong>关注我们的官方账号获取行业白皮书:</strong></p>
                        <p><i class="fab fa-line"></i> LINE: @145zejab</p>
                        <p><i class="fab fa-telegram-plane"></i> Telegram: @website625_bot</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 智能业务 版权所有。<a href="#">隐私政策</a> | <a href="#">服务条款</a></p>
            <div class="social-links">
                <a href="#" aria-label="LINE"><i class="fab fa-line"></i></a>
                <a href="#" aria-label="Telegram"><i class="fab fa-telegram-plane"></i></a>
                <!-- <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a> -->
                <!-- <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a> -->
            </div>
        </div>
    </footer>

    <!-- 在LINE浮窗下方增加AI聊天图标 -->
    <div class="floating-chat-button" style="position: fixed; right: 0; top: 50%; transform: translateY(-50%); width: 75px; height: 75px; z-index: 1000;" onclick="window.open('https://line.me/R/ti/p/@145zejab', '_blank')">
        <img src="img/line-icon.svg" alt="LINE Icon" style="width: 50px; height: 50px; display: block; margin: 0 auto;"/>
    </div>

    <!-- AI聊天图标 -->
    <div class="ai-chat-icon" style="position: fixed; right: 0; top: 70%; transform: translateY(-50%); width: 75px; height: 75px; cursor: pointer; z-index: 1000;" onclick="showChatWindow();">
        <img src="img/AI窗口.jpg" alt="AI Chat Icon" style="width: 50px; height: 50px; display: block; margin: 0 auto;"/>
    </div>

    <!-- AI聊天窗口 -->
    <div id="ai-chat-window" class="ai-chat-window" style="position: fixed; right: 0; top: 45%; transform: translateY(-50%); width: 300px; height: 493px; border: 1px solid #2c2c2c; border-radius: 10px; overflow: hidden; display: none; background: #1a1a1a; z-index: 1001;">
        <div style="display: flex; flex-direction: column; height: 100%;">
            <!-- 聊天窗口头部 -->
            <div style="background: #2c2c2c; color: #ffffff; padding: 10px; text-align: center; font-weight: bold; border-bottom: 1px solid #3c3c3c; position: relative;">
                AI智能助手
                <button onclick="hideChatWindow();" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: #ff0000; color: white; border: none; font-size: 14px; font-weight: bold; cursor: pointer; padding: 5px 10px; border-radius: 3px;">关闭</button>
            </div>
            
            <!-- 聊天消息区域 -->
            <div id="chat-messages" style="flex: 1; overflow-y: auto; padding: 10px; background: #1a1a1a;">
                <!-- 欢迎消息 -->
                <div style="margin-bottom: 10px; padding: 8px; background: #2c2c2c; border-radius: 10px; max-width: 80%; color: #ffffff;">
                    您好！我是AI智能助手，很高兴为您服务。请问有什么可以帮您？
                </div>
            </div>
            
            <!-- 输入区域 -->
            <div style="padding: 10px; border-top: 1px solid #3c3c3c; background: #1a1a1a;">
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="message-input" placeholder="请输入您的问题..." style="flex: 1; padding: 8px; border: 1px solid #3c3c3c; border-radius: 4px; background: #2c2c2c; color: #ffffff;">
                    <button onclick="sendMessage()" style="padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">发送</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加聊天功能的脚本 -->
    <script src="js/chat-history.js"></script>
    <script>
        // 添加移动端适配
        function adjustForMobile() {
            const isMobile = window.innerWidth <= 768;
            const chatWindow = document.getElementById('ai-chat-window');
            const lineButton = document.querySelector('.floating-chat-button');
            const aiButton = document.querySelector('.ai-chat-icon');
            
            try {
                if (isMobile) {
                    // 移动端样式
                    chatWindow.style.width = '90%';
                    chatWindow.style.height = '80vh';
                    chatWindow.style.right = '5%';
                    chatWindow.style.top = '50%';
                    chatWindow.style.transform = 'translateY(-50%)';
                    
                    // 调整按钮大小和位置 - 增加20%
                    lineButton.style.width = '72px';  // 60px * 1.2
                    lineButton.style.height = '72px'; // 60px * 1.2
                    lineButton.style.right = '10px';
                    lineButton.style.transform = 'translateY(-50%)';
                    
                    aiButton.style.width = '72px';    // 60px * 1.2
                    aiButton.style.height = '72px';   // 60px * 1.2
                    aiButton.style.right = '10px';
                    aiButton.style.top = '60%';
                    aiButton.style.transform = 'translateY(-50%)';
                    
                    // 调整按钮内的图标大小 - 增加20%
                    const lineImg = lineButton.querySelector('img');
                    const aiImg = aiButton.querySelector('img');
                    if (lineImg) {
                        lineImg.style.width = '48px';  // 40px * 1.2
                        lineImg.style.height = '48px'; // 40px * 1.2
                    }
                    if (aiImg) {
                        aiImg.style.width = '48px';    // 40px * 1.2
                        aiImg.style.height = '48px';   // 40px * 1.2
                    }
                } else {
                    // 桌面端样式
                    chatWindow.style.width = '300px';
                    chatWindow.style.height = '493px';
                    chatWindow.style.right = '0';
                    chatWindow.style.top = '45%';
                    chatWindow.style.transform = 'translateY(-50%)';
                    
                    lineButton.style.width = '75px';
                    lineButton.style.height = '75px';
                    lineButton.style.right = '0';
                    lineButton.style.transform = 'translateY(-50%)';
                    
                    aiButton.style.width = '75px';
                    aiButton.style.height = '75px';
                    aiButton.style.right = '0';
                    aiButton.style.top = '70%';
                    aiButton.style.transform = 'translateY(-50%)';
                    
                    const lineImg = lineButton.querySelector('img');
                    const aiImg = aiButton.querySelector('img');
                    if (lineImg) {
                        lineImg.style.width = '50px';
                        lineImg.style.height = '50px';
                    }
                    if (aiImg) {
                        aiImg.style.width = '50px';
                        aiImg.style.height = '50px';
                    }
                }
            } catch (error) {
                console.error('调整移动端样式时出错:', error);
            }
        }

        // 确保DOM加载完成后再执行
        document.addEventListener('DOMContentLoaded', function() {
            // 页面加载时执行一次
            adjustForMobile();
            // 窗口大小改变时重新执行
            window.addEventListener('resize', adjustForMobile);
        });

        function showChatWindow() {
            document.getElementById('ai-chat-window').style.display = 'block';
        }

        async function hideChatWindow() {
            document.getElementById('ai-chat-window').style.display = 'none';
            // 在关闭聊天窗口时发送邮件
            if (window.chatHistoryManager && window.chatHistoryManager.chatHistory.size > 0) {
                try {
                    await window.chatHistoryManager.sendEmailOnConversationEnd();
                } catch (error) {
                    console.error('发送邮件失败:', error);
                }
            }
        }

        async function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (message) {
                // 添加用户消息到聊天窗口
                addMessage(message, 'user');
                
                // 记录用户消息
                await window.chatHistoryManager.addChatMessage(message, true);
                
                // 清空输入框
                input.value = '';
                
                // 发送消息到服务器
                fetch('https://zuozhu625.vip/webhook/64000a5e-2ee2-40dd-b523-e9f928a8c6a7/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        chatInput: message,
                        type: 'message',
                        platform: 'web',
                        user: {
                            id: 'web-user',
                            name: 'Web User'
                        }
                    })
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(async data => {
                    console.log('Server response:', data);
                    
                    let aiResponse = '';
                    
                    // 如果data是对象，尝试提取文本
                    if (typeof data === 'object' && data !== null) {
                        if (data.json && data.json.text) {
                            aiResponse = data.json.text;
                        } else if (data.text) {
                            aiResponse = data.text;
                        } else if (data.response) {
                            aiResponse = data.response;
                        } else if (data.output) {
                            aiResponse = data.output;
                        } else if (data.message) {
                            aiResponse = data.message;
                        } else if (data.content) {
                            aiResponse = data.content;
                        } else if (data.answer) {
                            aiResponse = data.answer;
                        } else if (data.result) {
                            aiResponse = data.result;
                        } else if (data.data) {
                            aiResponse = data.data;
                        } else {
                            // 如果没有找到，尝试转换为字符串
                            aiResponse = JSON.stringify(data);
                        }
                    } else if (typeof data === 'string') {
                        aiResponse = data;
                    } else {
                        aiResponse = String(data);
                    }
                    
                    // 清理响应中的代码块
                    if (aiResponse.includes('```')) {
                        // 尝试提取```json块中的内容
                        const jsonBlockMatch = aiResponse.match(/```json\s*([\s\S]*?)```/);
                        if (jsonBlockMatch) {
                            try {
                                const jsonContent = jsonBlockMatch[1].trim();
                                const parsedJson = JSON.parse(jsonContent);
                                if (parsedJson.json && parsedJson.json.text) {
                                    aiResponse = parsedJson.json.text;
                                } else if (parsedJson.text) {
                                    aiResponse = parsedJson.text;
                                } else if (parsedJson.output) {
                                    aiResponse = parsedJson.output;
                                }
                            } catch (e) {
                                // 如果解析失败，移除整个代码块
                                aiResponse = aiResponse.replace(/```[\s\S]*?```/g, '').trim();
                            }
                        } else {
                            // 移除所有代码块
                            aiResponse = aiResponse.replace(/```[\s\S]*?```/g, '').trim();
                        }
                    }
                    
                    // 如果响应中仍然包含JSON结构，尝试提取
                    if (aiResponse.includes('{') && aiResponse.includes('}')) {
                        try {
                            const jsonMatch = aiResponse.match(/\{.*\}/s);
                            if (jsonMatch) {
                                const jsonData = JSON.parse(jsonMatch[0]);
                                if (jsonData.json && jsonData.json.text) {
                                    aiResponse = jsonData.json.text;
                                } else if (jsonData.text) {
                                    aiResponse = jsonData.text;
                                } else if (jsonData.output) {
                                    aiResponse = jsonData.output;
                                }
                            }
                        } catch (e) {
                            // 保持原样
                        }
                    }
                    
                    // 确保响应不为空
                    if (!aiResponse || aiResponse.trim() === '') {
                        aiResponse = '抱歉，我没有理解您的问题。';
                    }
                    
                    // 添加AI回复到聊天窗口
                    addMessage(aiResponse, 'ai');
                    
                    // 记录AI回复
                    await window.chatHistoryManager.addChatMessage(aiResponse, false);
                })
                .catch(error => {
                    console.error('Error:', error);
                    const errorMessage = '抱歉，连接服务器时发生错误，请稍后再试。';
                    addMessage(errorMessage, 'ai');
                    window.chatHistoryManager.addChatMessage(errorMessage, false);
                });
            }
        }

        function addMessage(text, sender) {
            const messagesDiv = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.style.marginBottom = '10px';
            messageDiv.style.padding = '8px';
            messageDiv.style.borderRadius = '10px';
            messageDiv.style.maxWidth = '80%';
            
            if (sender === 'user') {
                messageDiv.style.marginLeft = 'auto';
                messageDiv.style.background = '#007bff';
                messageDiv.style.color = 'white';
            } else {
                messageDiv.style.marginRight = 'auto';
                messageDiv.style.background = '#2c2c2c';
                messageDiv.style.color = '#ffffff';
            }
            
            messageDiv.textContent = text;
            messagesDiv.appendChild(messageDiv);
            
            // 滚动到底部
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // 添加回车键发送消息的功能
        document.getElementById('message-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>